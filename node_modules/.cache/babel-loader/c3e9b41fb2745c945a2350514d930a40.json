{"ast":null,"code":"import _slicedToArray from\"/home/gh0st/Downloads/PROJECTS/REACT/tobacco/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{colors}from\"../../theme/colors\";import MainCard from\"./MainCard\";import{useSelector}from\"react-redux\";import rightArrowWhite from\"../../theme/images/right-arrow-white.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cardSize=300;var cardMargin=50;var arowLength=120;var cardLength=cardSize+cardMargin;var menuSize=220;var useStyles=makeStyles(function(props){return{root:{height:\"fit-content\",alignItems:\"center\",width:function width(props){return props.carouselWidth+arowLength;},transition:\"width .3s\",position:\"relative\",display:\"flex\"},carousel:{width:function width(props){return props.carouselWidth;},transition:\"width .3s\",overflow:\"hidden\",height:\"100%\"},carouselInner:{display:\"flex\",width:\"fit-content\",transform:function transform(props){return\"translateX(\".concat(props.translateX,\"px)\");},transition:\"transform .3s\"},longArrow:{position:\"absolute\",backgroundColor:colors.secondary,padding:\"13px 20px\",right:10,borderRadius:\"50%\",cursor:\"pointer\"}};});export default function Carousel(_ref){var escalator=_ref.escalator;var menuWidth=useSelector(function(state){return state.app.menuWidth;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),translateX=_useState2[0],setTranslateX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),carouselWidth=_useState4[0],setCarouselWidth=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),slider=_useState6[0],setSlider=_useState6[1];var setWidth=function setWidth(callFromMenu){// contentWidth - with delay from menuWidth call\nvar menu=0;if(callFromMenu){menu=!menuWidth?menuSize:-menuSize;}var contentWidth=content.clientWidth-arowLength+menu;var counter=0;while(true){contentWidth-=cardLength;if(contentWidth>0){counter++;}else{break;}}setCarouselWidth(cardLength*counter);};useEffect(function(){var callFromMenu=true;setWidth(callFromMenu);},[menuWidth]);useEffect(function(){var content=document.querySelector(\"#content\");setSlider(document.querySelector(\"#\"+escalator.id));setWidth();},[]);var classes=useStyles({carouselWidth:carouselWidth,translateX:translateX});window.addEventListener(\"resize\",function(){return setWidth();});var rollCarousel=function rollCarousel(){if(-translateX<slider.clientWidth-carouselWidth){setTranslateX(translateX-cardLength);}else{setTranslateX(0);}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{id:\"carousel\",className:classes.carousel,children:/*#__PURE__*/_jsx(\"div\",{id:escalator.id,className:classes.carouselInner,children:escalator.type.map(function(tobacco,index){return/*#__PURE__*/_jsx(MainCard,{itemCard:tobacco},index);})})}),/*#__PURE__*/_jsx(\"img\",{className:classes.longArrow,src:rightArrowWhite,alt:\"right-arrow\",onClick:function onClick(){return rollCarousel();}})]});}","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/components/itemCards/Carousel.js"],"names":["React","useState","useEffect","makeStyles","colors","MainCard","useSelector","cardSize","cardMargin","arowLength","cardLength","menuSize","useStyles","props","root","height","alignItems","width","carouselWidth","transition","position","display","carousel","overflow","carouselInner","transform","translateX","longArrow","backgroundColor","secondary","padding","right","borderRadius","cursor","Carousel","escalator","menuWidth","state","app","setTranslateX","setCarouselWidth","slider","setSlider","setWidth","callFromMenu","menu","contentWidth","content","clientWidth","counter","document","querySelector","id","classes","window","addEventListener","rollCarousel","type","map","tobacco","index","rightArrowWhite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { colors } from \"../../theme/colors\";\nimport MainCard from \"./MainCard\";\nimport { useSelector } from \"react-redux\";\nimport rightArrowWhite from \"../../theme/images/right-arrow-white.svg\";\n\nconst cardSize = 300;\nconst cardMargin = 50;\nconst arowLength = 120;\nconst cardLength = cardSize + cardMargin;\nconst menuSize = 220;\n\nconst useStyles = makeStyles((props) => ({\n\troot: {\n\t\theight: \"fit-content\",\n\t\talignItems: \"center\",\n\t\twidth: (props) => props.carouselWidth + arowLength,\n\t\ttransition: \"width .3s\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t},\n\tcarousel: {\n\t\twidth: (props) => props.carouselWidth,\n\t\ttransition: \"width .3s\",\n\t\toverflow: \"hidden\",\n\t\theight: \"100%\",\n\t},\n\tcarouselInner: {\n\t\tdisplay: \"flex\",\n\t\twidth: \"fit-content\",\n\t\ttransform: (props) => `translateX(${props.translateX}px)`,\n\t\ttransition: \"transform .3s\",\n\t},\n\tlongArrow: {\n\t\tposition: \"absolute\",\n\t\tbackgroundColor: colors.secondary,\n\t\tpadding: \"13px 20px\",\n\t\tright: 10,\n\t\tborderRadius: \"50%\",\n\t\tcursor: \"pointer\",\n\t},\n}));\n\nexport default function Carousel({ escalator }) {\n\tconst menuWidth = useSelector((state) => state.app.menuWidth);\n\n\tconst [translateX, setTranslateX] = useState(0);\n\tconst [carouselWidth, setCarouselWidth] = useState(0);\n\tconst [slider, setSlider] = useState({});\n\n\tconst setWidth = (callFromMenu) => {\n\t\t// contentWidth - with delay from menuWidth call\n\t\tlet menu = 0;\n\t\tif (callFromMenu) {\n\t\t\tmenu = !menuWidth ? menuSize : -menuSize;\n\t\t}\n\t\tlet contentWidth = content.clientWidth - arowLength + menu;\n\t\tlet counter = 0;\n\n\t\twhile (true) {\n\t\t\tcontentWidth -= cardLength;\n\t\t\tif (contentWidth > 0) {\n\t\t\t\tcounter++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tsetCarouselWidth(cardLength * counter);\n\t};\n\n\tuseEffect(() => {\n\t\tlet callFromMenu = true;\n\t\tsetWidth(callFromMenu);\n\t}, [menuWidth]);\n\n\tuseEffect(() => {\n\t\tconst content = document.querySelector(\"#content\");\n\t\tsetSlider(document.querySelector(\"#\" + escalator.id));\n\t\tsetWidth();\n\t}, []);\n\n\tconst classes = useStyles({ carouselWidth, translateX });\n\n\twindow.addEventListener(\"resize\", () => setWidth());\n\n\tconst rollCarousel = () => {\n\t\tif (-translateX < slider.clientWidth - carouselWidth) {\n\t\t\tsetTranslateX(translateX - cardLength);\n\t\t} else {\n\t\t\tsetTranslateX(0);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div id=\"carousel\" className={classes.carousel}>\n\t\t\t\t<div id={escalator.id} className={classes.carouselInner}>\n\t\t\t\t\t{escalator.type.map((tobacco, index) => {\n\t\t\t\t\t\treturn <MainCard key={index} itemCard={tobacco} />;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img\n\t\t\t\tclassName={classes.longArrow}\n\t\t\t\tsrc={rightArrowWhite}\n\t\t\t\talt=\"right-arrow\"\n\t\t\t\tonClick={() => rollCarousel()}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}