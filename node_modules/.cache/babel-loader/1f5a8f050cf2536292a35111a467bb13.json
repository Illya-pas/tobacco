{"ast":null,"code":"import _slicedToArray from\"/home/gh0st/Downloads/PROJECTS/REACT/tobacco/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{colors}from\"../../theme/colors\";import MainCard from\"./MainCard\";import{useSelector}from\"react-redux\";import rightArrowWhite from\"../../theme/images/right-arrow-white.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cardSize=300;var cardMargin=50;var arowLength=120;var cardLength=cardSize+cardMargin;var menuSize=220;var useStyles=makeStyles(function(props){return{root:{height:\"fit-content\",alignItems:\"center\",width:function width(props){return props.carouselWidth+arowLength;},transition:\"width .3s\",position:\"relative\",display:\"flex\"},carousel:{width:function width(props){return props.carouselWidth;},transition:\"width .3s\",overflow:\"hidden\",height:\"100%\"},carouselInner:{display:\"flex\",width:\"fit-content\",transform:function transform(props){return\"translateX(\".concat(props.translateX,\"px)\");},transition:\"transform .3s\"},longArrow:{position:\"absolute\",backgroundColor:colors.secondary,padding:\"13px 20px\",right:10,borderRadius:\"50%\",cursor:\"pointer\"}};});export default function Carousel(_ref){var escalator=_ref.escalator;var menuWidth=useSelector(function(state){return state.app.menuWidth;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),translateX=_useState2[0],setTranslateX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),carouselWidth=_useState4[0],setCarouselWidth=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),slider=_useState6[0],setSlider=_useState6[1];var setWidth=function setWidth(callFromMenu){// contentWidth - with delay from menuWidth call\nvar menu=0;if(callFromMenu){menu=!menuWidth?menuSize:-menuSize;}var contentWidth=content.clientWidth-arowLength+menu;var counter=0;while(true){contentWidth-=cardLength;if(contentWidth>0){counter++;}else{break;}}setCarouselWidth(cardLength*counter);};useEffect(function(){var callFromMenu=true;setWidth(callFromMenu);},[menuWidth]);useEffect(function(){var content=document.querySelector(\"#content\");setSlider(document.querySelector(\"#\"+escalator.id));setWidth();},[]);var classes=useStyles({carouselWidth:carouselWidth,translateX:translateX});window.addEventListener(\"resize\",function(){return setWidth();});var rollCarousel=function rollCarousel(){if(-translateX<slider.clientWidth-carouselWidth){setTranslateX(translateX-cardLength);}else{setTranslateX(0);}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{id:\"carousel\",className:classes.carousel,children:/*#__PURE__*/_jsx(\"div\",{id:escalator.id,className:classes.carouselInner,children:escalator.type.map(function(tobacco,index){return/*#__PURE__*/_jsx(MainCard,{itemCard:tobacco},index);})})}),/*#__PURE__*/_jsx(\"img\",{className:classes.longArrow,src:rightArrowWhite,alt:\"right-arrow\",onClick:function onClick(){return rollCarousel();}})]});}","map":null,"metadata":{},"sourceType":"module"}