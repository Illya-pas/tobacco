{"ast":null,"code":"import _slicedToArray from\"/home/gh0st/Downloads/PROJECTS/REACT/tobacco/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{colors}from\"../../theme/colors\";import MainCard from\"./MainCard\";import{useSelector}from\"react-redux\";import rightArrowWhite from\"../../theme/images/right-arrow-white.svg\";import rightArrowBlack from\"../../theme/images/right-arrow.svg\";import clsx from\"clsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(props){return{root:{height:\"fit-content\",alignItems:\"center\",width:function width(props){return props.carouselWidth+props.currentSize.arowLength;},transition:\"width .3s\",position:\"relative\",display:\"flex\",\"@media (max-width: 870px)\":{width:props.carouselWidth,flexDirection:\"column\",height:500,marginLeft:-50,maxWidth:300}},carousel:{width:function width(props){return props.carouselWidth;},transition:\"width .3s\",overflow:\"hidden\",height:\"100%\"},carouselInner:{display:\"flex\",width:\"fit-content\",transform:function transform(props){return\"translateX(\".concat(props.translateX,\"px)\");},transition:\"transform .3s\"},arrow:{position:\"absolute\",padding:\"13px 20px\",width:function width(props){return props.arrowSize;},right:10,borderRadius:\"50%\",cursor:\"pointer\",\"@media (max-width: 870px)\":{width:85,right:\"initial\",bottom:0,marginLeft:50}},whiteArrow:{backgroundColor:colors.secondary},blackArrow:{backgroundColor:colors.primary}};});export default function Carousel(_ref){var escalator=_ref.escalator,size=_ref.size;var menuWidth=useSelector(function(state){return state.app.menuWidth;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),translateX=_useState2[0],setTranslateX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),carouselWidth=_useState4[0],setCarouselWidth=_useState4[1];var _useState5=useState(size),_useState6=_slicedToArray(_useState5,2),currentSize=_useState6[0],setCurrentSize=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),slider=_useState8[0],setSlider=_useState8[1];var cardLength=currentSize.cardSize+currentSize.cardMargin;var menuSize=220;var setWidth=function setWidth(callFromMenu){var menu=0;if(callFromMenu){if(window.innerWidth>870){menu=!menuWidth?menuSize:-menuSize;}else{return;}}var counter=0;var contentWidth;if(currentSize.cardSize<300){contentWidth=window.innerWidth-currentSize.arowLength;}else{window.innerWidth>475?contentWidth=content.clientWidth-currentSize.arowLength+menu:contentWidth=400;}while(true){contentWidth-=cardLength;if(contentWidth>0){// counter < 3 && counter++;\ncounter++;}else{break;}}setCarouselWidth(cardLength*counter);};useEffect(function(){var callFromMenu=true;setWidth(callFromMenu);},[menuWidth]);useEffect(function(){var content=document.querySelector(\"#content\");setSlider(document.querySelector(\"#\"+escalator.id));setWidth();},[]);var classes=useStyles({carouselWidth:carouselWidth,translateX:translateX,currentSize:currentSize});window.addEventListener(\"resize\",function(){return setWidth();});var rollCarousel=function rollCarousel(){if(-translateX<slider.clientWidth-carouselWidth){setTranslateX(translateX-cardLength);}else{setTranslateX(0);}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{id:\"carousel\",className:classes.carousel,children:/*#__PURE__*/_jsx(\"div\",{id:escalator.id,className:classes.carouselInner,children:escalator.type.map(function(tobacco,index){return/*#__PURE__*/_jsx(MainCard,{itemCard:tobacco,currentSize:currentSize},index);})})}),/*#__PURE__*/_jsx(\"img\",{className:clsx(classes.arrow,currentSize.blackArrow?classes.blackArrow:classes.whiteArrow),src:currentSize.blackArrow?rightArrowBlack:rightArrowWhite,alt:\"right-arrow\",onClick:rollCarousel})]});}","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/components/itemCards/Carousel.js"],"names":["React","useState","useEffect","makeStyles","colors","MainCard","useSelector","clsx","useStyles","props","root","height","alignItems","width","carouselWidth","currentSize","arowLength","transition","position","display","flexDirection","marginLeft","maxWidth","carousel","overflow","carouselInner","transform","translateX","arrow","padding","arrowSize","right","borderRadius","cursor","bottom","whiteArrow","backgroundColor","secondary","blackArrow","primary","Carousel","escalator","size","menuWidth","state","app","setTranslateX","setCarouselWidth","setCurrentSize","slider","setSlider","cardLength","cardSize","cardMargin","menuSize","setWidth","callFromMenu","menu","window","innerWidth","counter","contentWidth","content","clientWidth","document","querySelector","id","classes","addEventListener","rollCarousel","type","map","tobacco","index","rightArrowBlack","rightArrowWhite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { colors } from \"../../theme/colors\";\nimport MainCard from \"./MainCard\";\nimport { useSelector } from \"react-redux\";\nimport rightArrowWhite from \"../../theme/images/right-arrow-white.svg\";\nimport rightArrowBlack from \"../../theme/images/right-arrow.svg\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((props) => ({\n\troot: {\n\t\theight: \"fit-content\",\n\t\talignItems: \"center\",\n\t\twidth: (props) => props.carouselWidth + props.currentSize.arowLength,\n\t\ttransition: \"width .3s\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\t\"@media (max-width: 870px)\": {\n\t\t\twidth: props.carouselWidth,\n\t\t\tflexDirection: \"column\",\n\t\t\theight: 500,\n\t\t\tmarginLeft: -50,\n\t\t\tmaxWidth: 300,\n\t\t},\n\t},\n\tcarousel: {\n\t\twidth: (props) => props.carouselWidth,\n\t\ttransition: \"width .3s\",\n\t\toverflow: \"hidden\",\n\t\theight: \"100%\",\n\t},\n\tcarouselInner: {\n\t\tdisplay: \"flex\",\n\t\twidth: \"fit-content\",\n\t\ttransform: (props) => `translateX(${props.translateX}px)`,\n\t\ttransition: \"transform .3s\",\n\t},\n\tarrow: {\n\t\tposition: \"absolute\",\n\t\tpadding: \"13px 20px\",\n\t\twidth: (props) => props.arrowSize,\n\t\tright: 10,\n\t\tborderRadius: \"50%\",\n\t\tcursor: \"pointer\",\n\t\t\"@media (max-width: 870px)\": {\n\t\t\twidth: 85,\n\t\t\tright: \"initial\",\n\t\t\tbottom: 0,\n\t\t\tmarginLeft: 50,\n\t\t},\n\t},\n\twhiteArrow: {\n\t\tbackgroundColor: colors.secondary,\n\t},\n\tblackArrow: {\n\t\tbackgroundColor: colors.primary,\n\t},\n}));\n\nexport default function Carousel({ escalator, size }) {\n\tconst menuWidth = useSelector((state) => state.app.menuWidth);\n\n\tconst [translateX, setTranslateX] = useState(0);\n\tconst [carouselWidth, setCarouselWidth] = useState(0);\n\tconst [currentSize, setCurrentSize] = useState(size);\n\tconst [slider, setSlider] = useState({});\n\n\tlet cardLength = currentSize.cardSize + currentSize.cardMargin;\n\n\tconst menuSize = 220;\n\n\tconst setWidth = (callFromMenu) => {\n\t\tlet menu = 0;\n\t\tif (callFromMenu) {\n\t\t\tif (window.innerWidth > 870) {\n\t\t\t\tmenu = !menuWidth ? menuSize : -menuSize;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tlet counter = 0;\n\t\tlet contentWidth;\n\n\t\tif (currentSize.cardSize < 300) {\n\t\t\tcontentWidth = window.innerWidth - currentSize.arowLength;\n\t\t} else {\n\t\t\twindow.innerWidth > 475\n\t\t\t\t? (contentWidth = content.clientWidth - currentSize.arowLength + menu)\n\t\t\t\t: (contentWidth = 400);\n\t\t}\n\n\t\twhile (true) {\n\t\t\tcontentWidth -= cardLength;\n\t\t\tif (contentWidth > 0) {\n\t\t\t\t// counter < 3 && counter++;\n\t\t\t\tcounter++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tsetCarouselWidth(cardLength * counter);\n\t};\n\n\tuseEffect(() => {\n\t\tlet callFromMenu = true;\n\t\tsetWidth(callFromMenu);\n\t}, [menuWidth]);\n\n\tuseEffect(() => {\n\t\tconst content = document.querySelector(\"#content\");\n\t\tsetSlider(document.querySelector(\"#\" + escalator.id));\n\t\tsetWidth();\n\t}, []);\n\n\tconst classes = useStyles({ carouselWidth, translateX, currentSize });\n\n\twindow.addEventListener(\"resize\", () => setWidth());\n\n\tconst rollCarousel = () => {\n\t\tif (-translateX < slider.clientWidth - carouselWidth) {\n\t\t\tsetTranslateX(translateX - cardLength);\n\t\t} else {\n\t\t\tsetTranslateX(0);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div id=\"carousel\" className={classes.carousel}>\n\t\t\t\t<div id={escalator.id} className={classes.carouselInner}>\n\t\t\t\t\t{escalator.type.map((tobacco, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<MainCard\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\titemCard={tobacco}\n\t\t\t\t\t\t\t\tcurrentSize={currentSize}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img\n\t\t\t\tclassName={clsx(\n\t\t\t\t\tclasses.arrow,\n\t\t\t\t\tcurrentSize.blackArrow ? classes.blackArrow : classes.whiteArrow\n\t\t\t\t)}\n\t\t\t\tsrc={currentSize.blackArrow ? rightArrowBlack : rightArrowWhite}\n\t\t\t\talt=\"right-arrow\"\n\t\t\t\tonClick={rollCarousel}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}