{"ast":null,"code":"import { PUSH_ITEM_CART, DEL_ITEM_CART, COUNT_TOTAL, CHANGE_AMOUNT } from \"../types\";\nconst initialState = {\n  cart: null,\n  total: 0\n};\nexport const cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PUSH_ITEM_CART:\n      return { ...state,\n        cart: state.cart ? [...state.cart, action.payload] : [action.payload]\n      };\n\n    case DEL_ITEM_CART:\n      return { ...state,\n        cart: state.cart.filter(cartItem => cartItem.type !== action.payload.type)\n      };\n\n    case COUNT_TOTAL:\n      return { ...state,\n        total: state.total + action.payload.price * action.payload.amount\n      };\n\n    case CHANGE_AMOUNT:\n      const newCart = state.cart;\n      return { ...state,\n        cart: state.newCart.map(newCartItem => {\n          newCartItem.id === action.payload.id && (newCartItem.amount = action.payload.amount);\n          return newCart;\n        })\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/redux/reducers/cartReducer.js"],"names":["PUSH_ITEM_CART","DEL_ITEM_CART","COUNT_TOTAL","CHANGE_AMOUNT","initialState","cart","total","cartReducer","state","action","type","payload","filter","cartItem","price","amount","newCart","map","newCartItem","id"],"mappings":"AAAA,SACCA,cADD,EAECC,aAFD,EAGCC,WAHD,EAICC,aAJD,QAKO,UALP;AAOA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,IAAI,EAAE,IADc;AAEpBC,EAAAA,KAAK,EAAE;AAFa,CAArB;AAKA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC5D,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKV,cAAL;AACC,aAAO,EACN,GAAGQ,KADG;AAENH,QAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,GAAa,CAAC,GAAGG,KAAK,CAACH,IAAV,EAAgBI,MAAM,CAACE,OAAvB,CAAb,GAA+C,CAACF,MAAM,CAACE,OAAR;AAF/C,OAAP;;AAKD,SAAKV,aAAL;AACC,aAAO,EACN,GAAGO,KADG;AAENH,QAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,CAAWO,MAAX,CACJC,QAAD,IAAcA,QAAQ,CAACH,IAAT,KAAkBD,MAAM,CAACE,OAAP,CAAeD,IAD1C;AAFA,OAAP;;AAOD,SAAKR,WAAL;AACC,aAAO,EACN,GAAGM,KADG;AAENF,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcG,MAAM,CAACE,OAAP,CAAeG,KAAf,GAAuBL,MAAM,CAACE,OAAP,CAAeI;AAFrD,OAAP;;AAKD,SAAKZ,aAAL;AACC,YAAMa,OAAO,GAAGR,KAAK,CAACH,IAAtB;AAEA,aAAO,EACN,GAAGG,KADG;AAENH,QAAAA,IAAI,EAAEG,KAAK,CAACQ,OAAN,CAAcC,GAAd,CAAmBC,WAAD,IAAiB;AACxCA,UAAAA,WAAW,CAACC,EAAZ,KAAmBV,MAAM,CAACE,OAAP,CAAeQ,EAAlC,KACED,WAAW,CAACH,MAAZ,GAAqBN,MAAM,CAACE,OAAP,CAAeI,MADtC;AAEA,iBAAOC,OAAP;AACA,SAJK;AAFA,OAAP;;AASD;AACC,aAAOR,KAAP;AAlCF;AAoCA,CArCM","sourcesContent":["import {\n\tPUSH_ITEM_CART,\n\tDEL_ITEM_CART,\n\tCOUNT_TOTAL,\n\tCHANGE_AMOUNT,\n} from \"../types\";\n\nconst initialState = {\n\tcart: null,\n\ttotal: 0,\n};\n\nexport const cartReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase PUSH_ITEM_CART:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: state.cart ? [...state.cart, action.payload] : [action.payload],\n\t\t\t};\n\n\t\tcase DEL_ITEM_CART:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: state.cart.filter(\n\t\t\t\t\t(cartItem) => cartItem.type !== action.payload.type\n\t\t\t\t),\n\t\t\t};\n\n\t\tcase COUNT_TOTAL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotal: state.total + action.payload.price * action.payload.amount,\n\t\t\t};\n\n\t\tcase CHANGE_AMOUNT:\n\t\t\tconst newCart = state.cart;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: state.newCart.map((newCartItem) => {\n\t\t\t\t\tnewCartItem.id === action.payload.id &&\n\t\t\t\t\t\t(newCartItem.amount = action.payload.amount);\n\t\t\t\t\treturn newCart;\n\t\t\t\t}),\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}