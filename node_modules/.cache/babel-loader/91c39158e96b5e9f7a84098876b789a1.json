{"ast":null,"code":"import { ADD_FILTER, REMOVE_FILTER, FETCH_PAPER, FETCH_HILZY, FETCH_FILTERS, FETCH_AROMA, FETCH_MASHINE, FETCH_SEARCH } from \"../types\";\nconst initialState = {\n  search: [],\n  paper: [],\n  hilzy: [],\n  filter: [],\n  aroma: [],\n  mashine: [],\n  total: 0,\n  filters: [{\n    name: \"paper\",\n    filters: []\n  }, {\n    name: \"hilzy\",\n    filters: []\n  }, {\n    name: \"filter\",\n    filters: []\n  }, {\n    name: \"aroma\",\n    filters: []\n  }, {\n    name: \"mashine\",\n    filters: []\n  }]\n};\nexport const cardReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_SEARCH:\n      let copySearch = [...state.search];\n      let itemID = action.payload[0] && action.payload[0].id;\n      let newArray = [...state.search];\n      copySearch.map(searchItem => {\n        if (searchItem.id === itemID) {\n          return;\n        } else {\n          newArray = copySearch.concat(action.payload ? action.payload[0] : [1]); // return copySearch;\n        }\n      });\n      console.log(copySearch); // console.log(action.payload[0] && action.payload[0].id);\n\n      return { ...state,\n        search: copySearch\n      };\n    // return { ...state, search: state.search.concat(action.payload) };\n\n    case FETCH_PAPER:\n      return { ...state,\n        paper: action.payload\n      };\n\n    case FETCH_HILZY:\n      return { ...state,\n        hilzy: action.payload\n      };\n\n    case FETCH_FILTERS:\n      return { ...state,\n        filter: action.payload\n      };\n\n    case FETCH_AROMA:\n      return { ...state,\n        aroma: action.payload\n      };\n\n    case FETCH_MASHINE:\n      return { ...state,\n        mashine: action.payload\n      };\n\n    case ADD_FILTER:\n      let copiedFilters = [...state.filters];\n      copiedFilters.map((fil, index) => {\n        if (fil.name === action.payload.type) {\n          fil.filters.push(action.payload.name);\n          copiedFilters.splice(index, 1, fil);\n        }\n      });\n      return { ...state,\n        filters: copiedFilters\n      };\n\n    case REMOVE_FILTER:\n      let copyFilters = [...state.filters];\n      copyFilters.map((fil, index) => {\n        if (fil.name === action.payload.type) {\n          fil.filters.map((lftr, index) => {\n            if (lftr === action.payload.name) {\n              fil.filters.splice(index, 1);\n            }\n          });\n          copyFilters.splice(index, 1, fil);\n        }\n      });\n      return { ...state,\n        filters: copyFilters\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/redux/reducers/cardReducer.js"],"names":["ADD_FILTER","REMOVE_FILTER","FETCH_PAPER","FETCH_HILZY","FETCH_FILTERS","FETCH_AROMA","FETCH_MASHINE","FETCH_SEARCH","initialState","search","paper","hilzy","filter","aroma","mashine","total","filters","name","cardReducer","state","action","type","copySearch","itemID","payload","id","newArray","map","searchItem","concat","console","log","copiedFilters","fil","index","push","splice","copyFilters","lftr"],"mappings":"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","sourcesContent":["import {\n\tADD_FILTER,\n\tREMOVE_FILTER,\n\tFETCH_PAPER,\n\tFETCH_HILZY,\n\tFETCH_FILTERS,\n\tFETCH_AROMA,\n\tFETCH_MASHINE,\n\tFETCH_SEARCH,\n} from \"../types\";\n\nconst initialState = {\n\tsearch: [],\n\tpaper: [],\n\thilzy: [],\n\tfilter: [],\n\taroma: [],\n\tmashine: [],\n\ttotal: 0,\n\tfilters: [\n\t\t{\n\t\t\tname: \"paper\",\n\t\t\tfilters: [],\n\t\t},\n\t\t{\n\t\t\tname: \"hilzy\",\n\t\t\tfilters: [],\n\t\t},\n\t\t{\n\t\t\tname: \"filter\",\n\t\t\tfilters: [],\n\t\t},\n\t\t{\n\t\t\tname: \"aroma\",\n\t\t\tfilters: [],\n\t\t},\n\t\t{\n\t\t\tname: \"mashine\",\n\t\t\tfilters: [],\n\t\t},\n\t],\n};\n\nexport const cardReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_SEARCH:\n\t\t\tlet copySearch = [...state.search];\n\t\t\tlet itemID = action.payload[0] && action.payload[0].id;\n\t\t\tlet newArray = [...state.search];\n\n\t\t\tcopySearch.map((searchItem) => {\n\t\t\t\tif (searchItem.id === itemID) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tnewArray = copySearch.concat(\n\t\t\t\t\t\taction.payload ? action.payload[0] : [1]\n\t\t\t\t\t);\n\t\t\t\t\t// return copySearch;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconsole.log(copySearch);\n\t\t\t// console.log(action.payload[0] && action.payload[0].id);\n\t\t\treturn { ...state, search: copySearch };\n\n\t\t// return { ...state, search: state.search.concat(action.payload) };\n\n\t\tcase FETCH_PAPER:\n\t\t\treturn { ...state, paper: action.payload };\n\n\t\tcase FETCH_HILZY:\n\t\t\treturn { ...state, hilzy: action.payload };\n\n\t\tcase FETCH_FILTERS:\n\t\t\treturn { ...state, filter: action.payload };\n\n\t\tcase FETCH_AROMA:\n\t\t\treturn { ...state, aroma: action.payload };\n\n\t\tcase FETCH_MASHINE:\n\t\t\treturn { ...state, mashine: action.payload };\n\n\t\tcase ADD_FILTER:\n\t\t\tlet copiedFilters = [...state.filters];\n\t\t\tcopiedFilters.map((fil, index) => {\n\t\t\t\tif (fil.name === action.payload.type) {\n\t\t\t\t\tfil.filters.push(action.payload.name);\n\t\t\t\t\tcopiedFilters.splice(index, 1, fil);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn { ...state, filters: copiedFilters };\n\n\t\tcase REMOVE_FILTER:\n\t\t\tlet copyFilters = [...state.filters];\n\t\t\tcopyFilters.map((fil, index) => {\n\t\t\t\tif (fil.name === action.payload.type) {\n\t\t\t\t\tfil.filters.map((lftr, index) => {\n\t\t\t\t\t\tif (lftr === action.payload.name) {\n\t\t\t\t\t\t\tfil.filters.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcopyFilters.splice(index, 1, fil);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn { ...state, filters: copyFilters };\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}