{"ast":null,"code":"import _slicedToArray from\"/home/gh0st/Downloads/PROJECTS/REACT/tobacco/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{colors}from\"../../theme/colors\";import MainCard from\"./MainCard\";import{useSelector}from\"react-redux\";import rightArrowWhite from\"../../theme/images/right-arrow-white.svg\";import rightArrowBlack from\"../../theme/images/right-arrow.svg\";import clsx from\"clsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var normalSize={cardSize:304,cardMargin:50,arowLength:120,arrowSize:100,describeSize:16,buttonSize:20,priceSize:25,blackArrow:false};var littleSize={cardSize:250,cardMargin:30,arowLength:120,arrowSize:85,describeSize:14,buttonSize:16,priceSize:20,blackArrow:true};var useStyles=makeStyles(function(props){return{root:{height:\"fit-content\",alignItems:\"center\",width:function width(props){return props.carouselWidth+props.currentSize.arowLength;},transition:\"width .3s\",position:\"relative\",display:\"flex\",\"@media (max-width: 870px)\":{width:props.carouselWidth,flexDirection:\"column\",height:500,marginLeft:-50,maxWidth:300}},carousel:{width:function width(props){return props.carouselWidth;},transition:\"width .3s\",overflow:\"hidden\",height:\"100%\"},carouselInner:{display:\"flex\",width:\"fit-content\",transform:function transform(props){return\"translateX(\".concat(props.translateX,\"px)\");},transition:\"transform .3s\"},arrow:{position:\"absolute\",padding:\"13px 20px\",width:function width(props){return props.arrowSize;},right:10,borderRadius:\"50%\",cursor:\"pointer\",\"@media (max-width: 870px)\":{width:littleSize.arrowSize,right:\"initial\",bottom:0,marginLeft:50}},whiteArrow:{backgroundColor:colors.secondary},blackArrow:{backgroundColor:colors.primary}};});export default function Carousel(_ref){var escalator=_ref.escalator,size=_ref.size;var menuWidth=useSelector(function(state){return state.app.menuWidth;});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),translateX=_useState2[0],setTranslateX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),carouselWidth=_useState4[0],setCarouselWidth=_useState4[1];var _useState5=useState(normalSize),_useState6=_slicedToArray(_useState5,2),currentSize=_useState6[0],setCurrentSize=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),slider=_useState8[0],setSlider=_useState8[1];var cardLength=currentSize.cardSize+currentSize.cardMargin;var menuSize=220;var setWidth=function setWidth(callFromMenu){// contentWidth - with delay from menuWidth call\nvar menu=0;if(callFromMenu){if(window.innerWidth>870){menu=!menuWidth?menuSize:-menuSize;}else{return;}}var counter=0;var contentWidth;window.innerWidth>475?contentWidth=content.clientWidth-currentSize.arowLength+menu:contentWidth=400;while(true){contentWidth-=cardLength;if(contentWidth>0){counter++;}else{break;}}setCarouselWidth(cardLength*counter);};useEffect(function(){var callFromMenu=true;setWidth(callFromMenu);},[menuWidth]);useEffect(function(){var content=document.querySelector(\"#content\");setSlider(document.querySelector(\"#\"+escalator.id));setWidth();},[]);var classes=useStyles({carouselWidth:carouselWidth,translateX:translateX,currentSize:currentSize});window.addEventListener(\"resize\",function(){return setWidth();});var rollCarousel=function rollCarousel(){if(-translateX<slider.clientWidth-carouselWidth){setTranslateX(translateX-cardLength);}else{setTranslateX(0);}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{id:\"carousel\",className:classes.carousel,children:/*#__PURE__*/_jsx(\"div\",{id:escalator.id,className:classes.carouselInner,children:escalator.type.map(function(tobacco,index){return/*#__PURE__*/_jsx(MainCard,{itemCard:tobacco,currentSize:currentSize},index);})})}),/*#__PURE__*/_jsx(\"img\",{className:clsx(classes.arrow,currentSize.blackArrow?classes.blackArrow:classes.whiteArrow),src:currentSize.blackArrow?rightArrowBlack:rightArrowWhite,alt:\"right-arrow\",onClick:rollCarousel})]});}","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/components/itemCards/Carousel.js"],"names":["React","useState","useEffect","makeStyles","colors","MainCard","useSelector","clsx","normalSize","cardSize","cardMargin","arowLength","arrowSize","describeSize","buttonSize","priceSize","blackArrow","littleSize","useStyles","props","root","height","alignItems","width","carouselWidth","currentSize","transition","position","display","flexDirection","marginLeft","maxWidth","carousel","overflow","carouselInner","transform","translateX","arrow","padding","right","borderRadius","cursor","bottom","whiteArrow","backgroundColor","secondary","primary","Carousel","escalator","size","menuWidth","state","app","setTranslateX","setCarouselWidth","setCurrentSize","slider","setSlider","cardLength","menuSize","setWidth","callFromMenu","menu","window","innerWidth","counter","contentWidth","content","clientWidth","document","querySelector","id","classes","addEventListener","rollCarousel","type","map","tobacco","index","rightArrowBlack","rightArrowWhite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { colors } from \"../../theme/colors\";\nimport MainCard from \"./MainCard\";\nimport { useSelector } from \"react-redux\";\nimport rightArrowWhite from \"../../theme/images/right-arrow-white.svg\";\nimport rightArrowBlack from \"../../theme/images/right-arrow.svg\";\nimport clsx from \"clsx\";\n\nconst normalSize = {\n\tcardSize: 304,\n\tcardMargin: 50,\n\tarowLength: 120,\n\tarrowSize: 100,\n\tdescribeSize: 16,\n\tbuttonSize: 20,\n\tpriceSize: 25,\n\tblackArrow: false,\n};\n\nconst littleSize = {\n\tcardSize: 250,\n\tcardMargin: 30,\n\tarowLength: 120,\n\tarrowSize: 85,\n\tdescribeSize: 14,\n\tbuttonSize: 16,\n\tpriceSize: 20,\n\tblackArrow: true,\n};\n\nconst useStyles = makeStyles((props) => ({\n\troot: {\n\t\theight: \"fit-content\",\n\t\talignItems: \"center\",\n\t\twidth: (props) => props.carouselWidth + props.currentSize.arowLength,\n\t\ttransition: \"width .3s\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\t\"@media (max-width: 870px)\": {\n\t\t\twidth: props.carouselWidth,\n\t\t\tflexDirection: \"column\",\n\t\t\theight: 500,\n\t\t\tmarginLeft: -50,\n\t\t\tmaxWidth: 300,\n\t\t},\n\t},\n\tcarousel: {\n\t\twidth: (props) => props.carouselWidth,\n\t\ttransition: \"width .3s\",\n\t\toverflow: \"hidden\",\n\t\theight: \"100%\",\n\t},\n\tcarouselInner: {\n\t\tdisplay: \"flex\",\n\t\twidth: \"fit-content\",\n\t\ttransform: (props) => `translateX(${props.translateX}px)`,\n\t\ttransition: \"transform .3s\",\n\t},\n\tarrow: {\n\t\tposition: \"absolute\",\n\t\tpadding: \"13px 20px\",\n\t\twidth: (props) => props.arrowSize,\n\t\tright: 10,\n\t\tborderRadius: \"50%\",\n\t\tcursor: \"pointer\",\n\t\t\"@media (max-width: 870px)\": {\n\t\t\twidth: littleSize.arrowSize,\n\t\t\tright: \"initial\",\n\t\t\tbottom: 0,\n\t\t\tmarginLeft: 50,\n\t\t},\n\t},\n\twhiteArrow: {\n\t\tbackgroundColor: colors.secondary,\n\t},\n\tblackArrow: {\n\t\tbackgroundColor: colors.primary,\n\t},\n}));\n\nexport default function Carousel({ escalator, size }) {\n\tconst menuWidth = useSelector((state) => state.app.menuWidth);\n\n\tconst [translateX, setTranslateX] = useState(0);\n\tconst [carouselWidth, setCarouselWidth] = useState(0);\n\tconst [currentSize, setCurrentSize] = useState(normalSize);\n\tconst [slider, setSlider] = useState({});\n\n\tlet cardLength = currentSize.cardSize + currentSize.cardMargin;\n\n\tconst menuSize = 220;\n\n\tconst setWidth = (callFromMenu) => {\n\t\t// contentWidth - with delay from menuWidth call\n\t\tlet menu = 0;\n\t\tif (callFromMenu) {\n\t\t\tif (window.innerWidth > 870) {\n\t\t\t\tmenu = !menuWidth ? menuSize : -menuSize;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tlet counter = 0;\n\t\tlet contentWidth;\n\n\t\twindow.innerWidth > 475\n\t\t\t? (contentWidth = content.clientWidth - currentSize.arowLength + menu)\n\t\t\t: (contentWidth = 400);\n\n\t\twhile (true) {\n\t\t\tcontentWidth -= cardLength;\n\t\t\tif (contentWidth > 0) {\n\t\t\t\tcounter++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tsetCarouselWidth(cardLength * counter);\n\t};\n\n\tuseEffect(() => {\n\t\tlet callFromMenu = true;\n\t\tsetWidth(callFromMenu);\n\t}, [menuWidth]);\n\n\tuseEffect(() => {\n\t\tconst content = document.querySelector(\"#content\");\n\t\tsetSlider(document.querySelector(\"#\" + escalator.id));\n\t\tsetWidth();\n\t}, []);\n\n\tconst classes = useStyles({ carouselWidth, translateX, currentSize });\n\n\twindow.addEventListener(\"resize\", () => setWidth());\n\n\tconst rollCarousel = () => {\n\t\tif (-translateX < slider.clientWidth - carouselWidth) {\n\t\t\tsetTranslateX(translateX - cardLength);\n\t\t} else {\n\t\t\tsetTranslateX(0);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div id=\"carousel\" className={classes.carousel}>\n\t\t\t\t<div id={escalator.id} className={classes.carouselInner}>\n\t\t\t\t\t{escalator.type.map((tobacco, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<MainCard\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\titemCard={tobacco}\n\t\t\t\t\t\t\t\tcurrentSize={currentSize}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img\n\t\t\t\tclassName={clsx(\n\t\t\t\t\tclasses.arrow,\n\t\t\t\t\tcurrentSize.blackArrow ? classes.blackArrow : classes.whiteArrow\n\t\t\t\t)}\n\t\t\t\tsrc={currentSize.blackArrow ? rightArrowBlack : rightArrowWhite}\n\t\t\t\talt=\"right-arrow\"\n\t\t\t\tonClick={rollCarousel}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}