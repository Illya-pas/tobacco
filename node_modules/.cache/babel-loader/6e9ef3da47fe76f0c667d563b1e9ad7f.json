{"ast":null,"code":"import { PUSH_ITEM_CART, DEL_ITEM_CART, COUNT_TOTAL, CHANGE_AMOUNT } from \"../types\";\nconst initialState = {\n  cart: [],\n  total: 0,\n  amount: 0\n};\nexport const cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PUSH_ITEM_CART:\n      return { ...state,\n        cart: state.cart.concat(action.payload)\n      };\n\n    case DEL_ITEM_CART:\n      const newCart = [...state.cart];\n      newCart.splice(action.payload, 1);\n      return { ...state,\n        cart: newCart\n      };\n\n    case COUNT_TOTAL:\n      let counter = 0;\n      let count = 0;\n      let price;\n      state.cart.map(singleCartItem => {\n        singleCartItem.amount >= singleCartItem.wholesaleCount ? price = singleCartItem.wholesalePrice / singleCartItem.wholesaleCount : price = singleCartItem.retailPrice;\n        counter += price * singleCartItem.amount;\n        count += singleCartItem.amount;\n      });\n      return { ...state,\n        total: Math.ceil(counter),\n        amount: count\n      };\n\n    case CHANGE_AMOUNT:\n      return { ...state,\n        cart: action.payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/redux/reducers/cartReducer.js"],"names":["PUSH_ITEM_CART","DEL_ITEM_CART","COUNT_TOTAL","CHANGE_AMOUNT","initialState","cart","total","amount","cartReducer","state","action","type","concat","payload","newCart","splice","counter","count","price","map","singleCartItem","wholesaleCount","wholesalePrice","retailPrice","Math","ceil"],"mappings":"AAAA,SACCA,cADD,EAECC,aAFD,EAGCC,WAHD,EAICC,aAJD,QAKO,UALP;AAOA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,KAAK,EAAE,CAFa;AAGpBC,EAAAA,MAAM,EAAE;AAHY,CAArB;AAMA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAC5D,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKX,cAAL;AACC,aAAO,EACN,GAAGS,KADG;AAENJ,QAAAA,IAAI,EAAEI,KAAK,CAACJ,IAAN,CAAWO,MAAX,CAAkBF,MAAM,CAACG,OAAzB;AAFA,OAAP;;AAKD,SAAKZ,aAAL;AACC,YAAMa,OAAO,GAAG,CAAC,GAAGL,KAAK,CAACJ,IAAV,CAAhB;AACAS,MAAAA,OAAO,CAACC,MAAR,CAAeL,MAAM,CAACG,OAAtB,EAA+B,CAA/B;AACA,aAAO,EACN,GAAGJ,KADG;AAENJ,QAAAA,IAAI,EAAES;AAFA,OAAP;;AAKD,SAAKZ,WAAL;AACC,UAAIc,OAAO,GAAG,CAAd;AACA,UAAIC,KAAK,GAAG,CAAZ;AACA,UAAIC,KAAJ;AACAT,MAAAA,KAAK,CAACJ,IAAN,CAAWc,GAAX,CAAgBC,cAAD,IAAoB;AAClCA,QAAAA,cAAc,CAACb,MAAf,IAAyBa,cAAc,CAACC,cAAxC,GACIH,KAAK,GACNE,cAAc,CAACE,cAAf,GAAgCF,cAAc,CAACC,cAFlD,GAGIH,KAAK,GAAGE,cAAc,CAACG,WAH3B;AAIAP,QAAAA,OAAO,IAAIE,KAAK,GAAGE,cAAc,CAACb,MAAlC;AACAU,QAAAA,KAAK,IAAIG,cAAc,CAACb,MAAxB;AACA,OAPD;AAQA,aAAO,EACN,GAAGE,KADG;AAENH,QAAAA,KAAK,EAAEkB,IAAI,CAACC,IAAL,CAAUT,OAAV,CAFD;AAGNT,QAAAA,MAAM,EAAEU;AAHF,OAAP;;AAMD,SAAKd,aAAL;AACC,aAAO,EAAE,GAAGM,KAAL;AAAYJ,QAAAA,IAAI,EAAEK,MAAM,CAACG;AAAzB,OAAP;;AAED;AACC,aAAOJ,KAAP;AArCF;AAuCA,CAxCM","sourcesContent":["import {\n\tPUSH_ITEM_CART,\n\tDEL_ITEM_CART,\n\tCOUNT_TOTAL,\n\tCHANGE_AMOUNT,\n} from \"../types\";\n\nconst initialState = {\n\tcart: [],\n\ttotal: 0,\n\tamount: 0,\n};\n\nexport const cartReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase PUSH_ITEM_CART:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: state.cart.concat(action.payload),\n\t\t\t};\n\n\t\tcase DEL_ITEM_CART:\n\t\t\tconst newCart = [...state.cart];\n\t\t\tnewCart.splice(action.payload, 1);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: newCart,\n\t\t\t};\n\n\t\tcase COUNT_TOTAL:\n\t\t\tlet counter = 0;\n\t\t\tlet count = 0;\n\t\t\tlet price;\n\t\t\tstate.cart.map((singleCartItem) => {\n\t\t\t\tsingleCartItem.amount >= singleCartItem.wholesaleCount\n\t\t\t\t\t? (price =\n\t\t\t\t\t\t\tsingleCartItem.wholesalePrice / singleCartItem.wholesaleCount)\n\t\t\t\t\t: (price = singleCartItem.retailPrice);\n\t\t\t\tcounter += price * singleCartItem.amount;\n\t\t\t\tcount += singleCartItem.amount;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotal: Math.ceil(counter),\n\t\t\t\tamount: count,\n\t\t\t};\n\n\t\tcase CHANGE_AMOUNT:\n\t\t\treturn { ...state, cart: action.payload };\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}