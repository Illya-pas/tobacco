{"ast":null,"code":"import { FETCH_CARDS, MENU_WIDTH, PUSH_ITEM_CART, DEL_ITEM_CART, COUNT_TOTAL, CHANGE_AMOUNT } from \"./types\"; // export const fetchItems = (itemsType) => {\n// \treturn async (dispatch) => {\n// \t\tdispatch({ type: FETCH_CARDS, payload: {} });\n// \t};\n// };\n\nexport const changeWidthMenu = menuWidth => {\n  return dispatch => {\n    dispatch({\n      type: MENU_WIDTH,\n      payload: menuWidth\n    });\n  };\n};\nexport const addToCart = (itemCard, cart) => {\n  return async dispatch => {\n    const newCart = cart;\n    let counter = 0;\n\n    if (cart) {\n      let isInCart = false;\n      cart.map((cartItem, index) => {\n        if (cartItem.id === itemCard.id) {\n          itemCard.available && (newCart[index].amount += 1);\n          dispatch({\n            type: CHANGE_AMOUNT,\n            payload: newCart\n          });\n          dispatch({\n            type: COUNT_TOTAL\n          });\n          isInCart = true;\n          return;\n        }\n      });\n\n      if (!isInCart) {\n        cart.map((cartItem, index) => {\n          if (cartItem.id === itemCard.id) {\n            itemCard.available && (newCart[index].amount += 1);\n            dispatch({\n              type: PUSH_ITEM_CART,\n              payload: itemCard\n            });\n            dispatch({\n              type: COUNT_TOTAL,\n              payload: counter\n            });\n          }\n        });\n      }\n    } else {\n      cart.map((cartItem, index) => {\n        if (cartItem.id === itemCard.id) {\n          itemCard.available && (newCart[index].amount += 1);\n          dispatch({\n            type: PUSH_ITEM_CART,\n            payload: itemCard\n          });\n          dispatch({\n            type: COUNT_TOTAL\n          });\n        }\n      });\n    }\n  };\n};\nexport const changeAmount = (inputValue, cart, index) => {\n  return async dispatch => {\n    let counter = 0;\n    const newCart = cart;\n    inputValue === \"\" ? inputValue = 0 : inputValue = +inputValue;\n    newCart[index].amount = inputValue;\n    dispatch({\n      type: CHANGE_AMOUNT,\n      payload: newCart\n    });\n    dispatch({\n      type: COUNT_TOTAL\n    });\n  };\n};\nexport const delFromCart = (cart, index) => {\n  return async dispatch => {\n    const newCart = cart;\n    newCart.splice(index, 1);\n    dispatch({\n      type: DEL_ITEM_CART,\n      payload: newCart\n    });\n    dispatch({\n      type: COUNT_TOTAL\n    });\n  };\n};","map":{"version":3,"sources":["/home/gh0st/Downloads/PROJECTS/REACT/tobacco/src/redux/actions.js"],"names":["FETCH_CARDS","MENU_WIDTH","PUSH_ITEM_CART","DEL_ITEM_CART","COUNT_TOTAL","CHANGE_AMOUNT","changeWidthMenu","menuWidth","dispatch","type","payload","addToCart","itemCard","cart","newCart","counter","isInCart","map","cartItem","index","id","available","amount","changeAmount","inputValue","delFromCart","splice"],"mappings":"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","sourcesContent":["import {\n\tFETCH_CARDS,\n\tMENU_WIDTH,\n\tPUSH_ITEM_CART,\n\tDEL_ITEM_CART,\n\tCOUNT_TOTAL,\n\tCHANGE_AMOUNT,\n} from \"./types\";\n\n// export const fetchItems = (itemsType) => {\n// \treturn async (dispatch) => {\n// \t\tdispatch({ type: FETCH_CARDS, payload: {} });\n// \t};\n// };\n\nexport const changeWidthMenu = (menuWidth) => {\n\treturn (dispatch) => {\n\t\tdispatch({ type: MENU_WIDTH, payload: menuWidth });\n\t};\n};\n\nexport const addToCart = (itemCard, cart) => {\n\treturn async (dispatch) => {\n\t\tconst newCart = cart;\n\t\tlet counter = 0;\n\t\tif (cart) {\n\t\t\tlet isInCart = false;\n\t\t\tcart.map((cartItem, index) => {\n\t\t\t\tif (cartItem.id === itemCard.id) {\n\t\t\t\t\titemCard.available && (newCart[index].amount += 1);\n\t\t\t\t\tdispatch({ type: CHANGE_AMOUNT, payload: newCart });\n\t\t\t\t\tdispatch({ type: COUNT_TOTAL });\n\t\t\t\t\tisInCart = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!isInCart) {\n\t\t\t\tcart.map((cartItem, index) => {\n\t\t\t\t\tif (cartItem.id === itemCard.id) {\n\t\t\t\t\t\titemCard.available && (newCart[index].amount += 1);\n\t\t\t\t\t\tdispatch({ type: PUSH_ITEM_CART, payload: itemCard });\n\t\t\t\t\t\tdispatch({ type: COUNT_TOTAL, payload: counter });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tcart.map((cartItem, index) => {\n\t\t\t\tif (cartItem.id === itemCard.id) {\n\t\t\t\t\titemCard.available && (newCart[index].amount += 1);\n\t\t\t\t\tdispatch({ type: PUSH_ITEM_CART, payload: itemCard });\n\t\t\t\t\tdispatch({ type: COUNT_TOTAL });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n};\n\nexport const changeAmount = (inputValue, cart, index) => {\n\treturn async (dispatch) => {\n\t\tlet counter = 0;\n\t\tconst newCart = cart;\n\t\tinputValue === \"\" ? (inputValue = 0) : (inputValue = +inputValue);\n\t\tnewCart[index].amount = inputValue;\n\t\tdispatch({ type: CHANGE_AMOUNT, payload: newCart });\n\t\tdispatch({ type: COUNT_TOTAL });\n\t};\n};\n\nexport const delFromCart = (cart, index) => {\n\treturn async (dispatch) => {\n\t\tconst newCart = cart;\n\t\tnewCart.splice(index, 1);\n\t\tdispatch({ type: DEL_ITEM_CART, payload: newCart });\n\t\tdispatch({ type: COUNT_TOTAL });\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}